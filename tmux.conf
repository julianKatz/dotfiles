##############################
###      BASIC CONFIG      ###
##############################

# Make zsh the default shell
set-option -g default-shell /bin/zsh

# Set up mouse mode 
set -g mouse on

# Set new pane to open from current path/
bind-key c new-window -c "#{pane_current_path}"

# vim tmux navigator key bindings
is_vim='echo "#{pane_current_command}" | grep -iqE "(^|\/)g?(view|n?vim?)(diff)?$"'
bind -n C-h if-shell "$is_vim" "send-keys C-h" "select-pane -L"
bind -n C-j if-shell "$is_vim" "send-keys C-j" "select-pane -D"
bind -n C-k if-shell "$is_vim" "send-keys C-k" "select-pane -U"
bind -n C-l if-shell "$is_vim" "send-keys C-l" "select-pane -R"

# act like GNU screen
unbind C-b
set -g prefix C-a


###########################
###      COSMETICS      ###
###########################

set -g status-left-length 90     # Configure the status bar

set -g status-justify centre
set -g status-bg colour234

set -g status-left "#[fg=green]#S #[fg=cyan]#I"
set -g status-right "#[fg=cyan]%b %d #[fg=yellow]|#[fg=cyan]%l:%M %p"

setw -g window-status-bell-attr default
setw -g window-status-bell-fg red
setw -g window-status-activity-attr bold

setw -g window-status-format "#[fg=cyan]• #[fg=white]#I#[fg=cyan] #[fg=white]#W"
setw -g window-status-current-format "#[fg=red]▶ #[fg=white]#I#[fg=red,bold] #[fg=white]#W"

# set -g pane-border-fg colour238
# set -g pane-border-bg colour238
# set -g pane-active-border-fg colour234
# set -g pane-active-border-bg colour238

set -g message-fg white
set -g message-bg black
set -g message-attr bright


#################################
###      INSTALL PLUGINS      ###
#################################

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
